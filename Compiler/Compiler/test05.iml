program fibonacci(in const pos:int32, out var fib:int32)
global
	proc fibProc(in copy pos:int32, out copy var fib:int32)
		local a : int32; b : int32
	do
		fib init := 0;
		a init := 0;
		b init := 0;
        if(pos = 0) then
		    fib := 1
	    else
		    if(pos = 1) then
			    fib := 1
			else
			    call fibProc(pos - 2, a);
				call fibProc(pos - 1, b);
				fib := a + b
			endif
		endif
	endproc
do
	call fibProc(pos, fib init)
endprogram
